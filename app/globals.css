@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* Atom One Dark Color Palette */
  --color-atom-bg: #282c34;
  --color-atom-bg-lighter: #21252b;
  --color-atom-fg: #abb2bf;
  --color-atom-border: #181a1f;
  --color-atom-accent: #61afef;
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --color-foreground: var(--foreground);
  --color-background: var(--background);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

:root {
  color-scheme: dark;
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  /* ============================================ */
  /* PALETA DE COLORES BASE - Atom One Dark Blue */
  /* ============================================ */

  /* Azules oscuros - Fondos */
  --color-slate-950: oklch(0.23 0.025 250);    /* Fondo principal */
  --color-slate-900: oklch(0.26 0.028 250);    /* Fondo de tarjetas */
  --color-slate-800: oklch(0.32 0.03 250);     /* Fondo secundario */
  --color-slate-700: oklch(0.35 0.035 250);    /* Elementos elevados */
  --color-slate-600: oklch(0.38 0.035 250);    /* Inputs */

  /* Azules grises - Textos */
  --color-slate-400: oklch(0.65 0.02 250);     /* Texto secundario */
  --color-slate-200: oklch(0.88 0.01 250);     /* Texto principal */
  --color-slate-50: oklch(0.98 0.005 250);     /* Texto brillante */

  /* Azul brillante - Acento principal */
  --color-blue-500: oklch(0.72 0.12 240);      /* Azul vibrante */

  /* Colores de estado */
  --color-red-500: oklch(0.65 0.22 25);        /* Destructivo/Error */
  --color-cyan-500: oklch(0.68 0.15 180);      /* Info */
  --color-green-500: oklch(0.75 0.13 140);     /* Success */
  --color-purple-500: oklch(0.70 0.18 280);    /* Acento alternativo */
  --color-orange-500: oklch(0.65 0.20 30);     /* Warning */

  /* ============================================ */
  /* ASIGNACIÓN DE ROLES SEMÁNTICOS              */
  /* ============================================ */

  /* Fondo general */
  --background: var(--color-slate-950);
  --foreground: var(--color-slate-200);

  /* Tarjetas y contenedores */
  --card: var(--color-slate-900);
  --card-foreground: var(--color-slate-200);

  /* Popovers y dropdowns */
  --popover: var(--color-slate-900);
  --popover-foreground: var(--color-slate-200);

  /* Color primario (botones, links, acentos) */
  --primary: var(--color-slate-50);
  --primary-foreground: var(--color-slate-950);

  /* Color secundario */
  --secondary: var(--color-slate-800);
  --secondary-foreground: var(--color-slate-200);

  /* Elementos silenciados/deshabilitados */
  --muted: var(--color-slate-800);
  --muted-foreground: var(--color-slate-400);

  /* Elementos con acento (hover states) */
  --accent: var(--color-slate-700);
  --accent-foreground: var(--color-slate-200);

  /* Color destructivo (eliminar, errores) */
  --destructive: var(--color-red-500);

  /* Bordes y separadores */
  --border: var(--color-slate-700);
  --input: var(--color-slate-600);

  /* Anillos de enfoque */
  --ring: var(--color-blue-500);

  /* Colores para gráficos */
  --chart-1: var(--color-blue-500);
  --chart-2: var(--color-cyan-500);
  --chart-3: var(--color-green-500);
  --chart-4: var(--color-purple-500);
  --chart-5: var(--color-orange-500);

  /* Sidebar específico */
  --sidebar: var(--color-slate-900);
  --sidebar-foreground: var(--color-slate-200);
  --sidebar-primary: var(--color-blue-500);
  --sidebar-primary-foreground: var(--color-slate-50);
  --sidebar-accent: var(--color-slate-800);
  --sidebar-accent-foreground: var(--color-slate-200);
  --sidebar-border: var(--color-slate-700);
  --sidebar-ring: var(--color-blue-500);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  html, body {
    @apply bg-background text-foreground overflow-x-hidden;
    max-width: 100vw;
  }

  /* Quitar cursor parpadeante en elementos no editables */
  *:not(input):not(textarea):not([contenteditable="true"]) {
    caret-color: transparent;
  }

  /* Asegurar que inputs y textareas tengan cursor visible */
  input, textarea, [contenteditable="true"] {
    caret-color: currentColor;
  }

  /* Prevenir selección en botones y elementos de UI */
  button, [role="button"], [role="tab"], [role="menuitem"] {
    user-select: none;
    -webkit-user-select: none;
  }

  /* Mejoras para renderizado de imágenes - Evita pixelación al reducir imágenes HD */
  img {
    /* Optimización para WebKit (Chrome, Safari, Edge) */
    image-rendering: -webkit-optimize-contrast;
    /* Activar aceleración por hardware para mejor rendering */
    transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-font-smoothing: subpixel-antialiased;
  }

  /* Para navegadores que soportan high-quality - mejor para fotos/portadas */
  @supports (image-rendering: high-quality) {
    img {
      image-rendering: high-quality;
    }
  }

  /* Filtro sutil para mejorar la nitidez sin exagerar */
  img[loading], img[data-nimg] {
    filter: contrast(1.02) brightness(1.01);
  }
}

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Glassmorphism animations */
  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(30px, -50px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }

  .animate-blob {
    animation: blob 7s infinite;
  }

  .animation-delay-2000 {
    animation-delay: 2s;
  }

  .animation-delay-4000 {
    animation-delay: 4s;
  }

  /* Mesh Gradient Animation */
  @keyframes hero-gradient-animation {
    0% {
      --y-0: 49%;
      --s-start-0: 12%;
      --s-end-0: 38.96143694776507%;
      --c-0: hsla(219.99999999999997, 41%, 10%, 1);
      --x-0: 92%;
      --s-start-1: 12%;
      --s-end-1: 51.15506203506692%;
      --c-1: hsla(219.99999999999997, 41%, 10%, 1);
      --x-1: 14%;
      --y-1: 63%;
      --c-2: hsla(258.87640449438203, 81%, 37%, 0.15);
      --s-start-2: 12%;
      --s-end-2: 28.71468031282485%;
      --y-2: 13%;
      --x-2: 94%;
      --x-3: 72%;
      --s-start-3: 12%;
      --s-end-3: 38.72477038007434%;
      --c-3: hsla(266.02941176470586, 85%, 38%, 0.2);
      --y-3: 93%;
      --y-4: 8%;
      --c-4: hsla(258.87640449438203, 74%, 52%, 0.2);
      --x-4: 39%;
      --s-start-4: 12%;
      --s-end-4: 25.74406157114897%;
    }
    50% {
      --y-0: 11%;
      --s-start-0: 12%;
      --s-end-0: 58.044823406639814%;
      --c-0: hsla(219.99999999999997, 41%, 10%, 1);
      --x-0: 27%;
      --s-start-1: 12%;
      --s-end-1: 43.741567420034215%;
      --c-1: hsla(219.99999999999997, 41%, 10%, 1);
      --x-1: 59%;
      --y-1: 60%;
      --c-2: hsla(258.82352941176475, 80%, 37%, 0.1);
      --s-start-2: 12%;
      --s-end-2: 42.09367437223882%;
      --y-2: 68%;
      --x-2: 93%;
      --x-3: 55%;
      --s-start-3: 3.465003465003465%;
      --s-end-3: 33.12348922126754%;
      --c-3: hsla(265.9756097560975, 83%, 38%, 0.05);
      --y-3: 47%;
      --y-4: 69%;
      --c-4: hsla(258.87640449438203, 74%, 52%, 0.18);
      --x-4: 15%;
      --s-start-4: 12%;
      --s-end-4: 60.272577001580906%;
    }
    100% {
      --y-0: 88%;
      --s-start-0: 12%;
      --s-end-0: 43.16112198436418%;
      --c-0: hsla(219.99999999999997, 41%, 10%, 1);
      --x-0: 38%;
      --s-start-1: 10.116242745148995%;
      --s-end-1: 40.603380780871014%;
      --c-1: hsla(219.99999999999997, 41%, 10%, 1);
      --x-1: 89%;
      --y-1: 19%;
      --c-2: hsla(258.82352941176475, 80%, 37%, 0.2);
      --s-start-2: 12%;
      --s-end-2: 28.80004688244434%;
      --y-2: 83%;
      --x-2: 14%;
      --x-3: 47%;
      --s-start-3: 12%;
      --s-end-3: 34.238475966106584%;
      --c-3: hsla(265.9756097560975, 83%, 38%, 0.1);
      --y-3: 7%;
      --y-4: 49%;
      --c-4: hsla(258.87640449438203, 74%, 52%, 0.1);
      --x-4: 94%;
      --s-start-4: 12%;
      --s-end-4: 40.603380780871014%;
    }
  }

  @property --y-0 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 49%;
  }
  @property --s-start-0 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 12%;
  }
  @property --s-end-0 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 38.96143694776507%;
  }
  @property --c-0 {
    syntax: '<color>';
    inherits: false;
    initial-value: hsla(219.99999999999997, 41%, 10%, 1);
  }
  @property --x-0 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 92%;
  }
  @property --s-start-1 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 12%;
  }
  @property --s-end-1 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 51.15506203506692%;
  }
  @property --c-1 {
    syntax: '<color>';
    inherits: false;
    initial-value: hsla(219.99999999999997, 41%, 10%, 1);
  }
  @property --x-1 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 14%;
  }
  @property --y-1 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 63%;
  }
  @property --c-2 {
    syntax: '<color>';
    inherits: false;
    initial-value: hsla(258.87640449438203, 81%, 37%, 0.15);
  }
  @property --s-start-2 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 12%;
  }
  @property --s-end-2 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 28.71468031282485%;
  }
  @property --y-2 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 13%;
  }
  @property --x-2 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 94%;
  }
  @property --x-3 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 72%;
  }
  @property --s-start-3 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 12%;
  }
  @property --s-end-3 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 38.72477038007434%;
  }
  @property --c-3 {
    syntax: '<color>';
    inherits: false;
    initial-value: hsla(266.02941176470586, 85%, 38%, 0.2);
  }
  @property --y-3 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 93%;
  }
  @property --y-4 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 8%;
  }
  @property --c-4 {
    syntax: '<color>';
    inherits: false;
    initial-value: hsla(258.87640449438203, 74%, 52%, 0.2);
  }
  @property --x-4 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 39%;
  }
  @property --s-start-4 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 12%;
  }
  @property --s-end-4 {
    syntax: '<percentage>';
    inherits: false;
    initial-value: 25.74406157114897%;
  }

  .mesh-gradient {
    --y-0: 49%;
    --c-0: hsla(219.99999999999997, 41%, 10%, 1);
    --x-0: 92%;
    --c-1: hsla(219.99999999999997, 41%, 10%, 1);
    --x-1: 14%;
    --y-1: 63%;
    --c-2: hsla(258.87640449438203, 81%, 37%, 0.15);
    --y-2: 13%;
    --x-2: 94%;
    --x-3: 72%;
    --c-3: hsla(266.02941176470586, 85%, 38%, 0.2);
    --y-3: 93%;
    --y-4: 8%;
    --c-4: hsla(258.87640449438203, 74%, 52%, 0.2);
    --x-4: 39%;
    background-color: hsla(219.99999999999997, 42%, 10%, 1);
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 2785 2785' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"),
      radial-gradient(circle at var(--x-0) var(--y-0), var(--c-0) var(--s-start-0), transparent var(--s-end-0)),
      radial-gradient(circle at var(--x-1) var(--y-1), var(--c-1) var(--s-start-1), transparent var(--s-end-1)),
      radial-gradient(circle at var(--x-2) var(--y-2), var(--c-2) var(--s-start-2), transparent var(--s-end-2)),
      radial-gradient(circle at var(--x-3) var(--y-3), var(--c-3) var(--s-start-3), transparent var(--s-end-3)),
      radial-gradient(circle at var(--x-4) var(--y-4), var(--c-4) var(--s-start-4), transparent var(--s-end-4));
    animation: hero-gradient-animation 10s linear infinite alternate;
    background-blend-mode: overlay, normal, normal, normal, normal, normal;
  }
}

/* React-PDF Custom Styles */
.react-pdf__Page {
  max-width: 100%;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
}

.react-pdf__Page__canvas {
  max-width: 100%;
  height: auto !important;
}

/* Bookshelf 3D Styles */
@layer components {
  /* Estantería con perspectiva */
  .bookshelf-container {
    perspective: 2000px;
    perspective-origin: center center;
  }

  /* Fila de estantería */
  .bookshelf-row {
    position: relative;
    transform-style: preserve-3d;
    padding: 1.5rem 0;
    margin-bottom: 2rem;
  }

  /* Tabla de madera de la estantería */
  .bookshelf-shelf {
    position: relative;
    width: 100%;
    height: 8px;
    background: linear-gradient(
      180deg,
      oklch(0.45 0.05 45) 0%,
      oklch(0.35 0.06 45) 100%
    );
    box-shadow:
      0 4px 8px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.1),
      inset 0 -1px 2px rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    margin-top: 1rem;
    transform: translateZ(-20px);
  }

  /* Efecto de madera más realista */
  .bookshelf-shelf::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 3px,
      rgba(0, 0, 0, 0.03) 3px,
      rgba(0, 0, 0, 0.03) 6px
    );
    border-radius: 4px;
  }

  /* Grid de libros en la estantería */
  .bookshelf-books {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    padding: 0 1rem;
    align-items: flex-end;
  }

  /* Libro individual con efecto 3D */
  .book-3d {
    position: relative;
    transform-style: preserve-3d;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    transform: rotateY(-2deg) translateZ(0);
    filter: brightness(0.95);
  }

  .book-3d:hover {
    transform: rotateY(0deg) translateZ(30px) translateY(-10px);
    z-index: 10;
    filter: brightness(1.05);
  }

  /* Reflejo de luz al hacer hover */
  .book-3d::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.15) 0%,
      transparent 50%
    );
    opacity: 0;
    transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
    z-index: 1;
    border-radius: 4px;
  }

  .book-3d:hover::before {
    opacity: 1;
  }

  /* Sombra del libro en la estantería */
  .book-3d::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 10%;
    right: 10%;
    height: 8px;
    background: radial-gradient(
      ellipse at center,
      rgba(0, 0, 0, 0.3) 0%,
      transparent 70%
    );
    transform: translateZ(-1px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .book-3d:hover::after {
    opacity: 0.7;
    transform: translateZ(-1px) scale(1.2);
    filter: blur(4px);
  }

  /* Lomo del libro (efecto 3D lateral) */
  .book-spine {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 12px;
    background: linear-gradient(
      to right,
      rgba(0, 0, 0, 0.4),
      rgba(0, 0, 0, 0.1)
    );
    transform-origin: left center;
    transform: rotateY(-90deg) translateZ(0);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .book-3d:hover .book-spine {
    transform: rotateY(-90deg) translateZ(2px);
  }

  /* Portada del libro con profundidad */
  .book-cover {
    position: relative;
    transform: translateZ(6px);
    box-shadow:
      -2px 0 8px rgba(0, 0, 0, 0.3),
      2px 0 4px rgba(0, 0, 0, 0.2),
      0 4px 8px rgba(0, 0, 0, 0.2);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .book-3d:hover .book-cover {
    box-shadow:
      -4px 0 16px rgba(0, 0, 0, 0.4),
      4px 0 8px rgba(0, 0, 0, 0.3),
      0 12px 24px rgba(0, 0, 0, 0.3);
    transform: translateZ(8px);
  }

  /* Brillo en el lomo cuando haces hover */
  .book-spine::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      to right,
      rgba(255, 255, 255, 0.1),
      transparent
    );
    opacity: 0;
    transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .book-3d:hover .book-spine::after {
    opacity: 1;
  }

  /* Diferentes inclinaciones aleatorias para realismo */
  .book-3d:nth-child(3n + 1) {
    transform: rotateY(-3deg) rotateZ(1deg) translateZ(0);
    filter: brightness(0.93);
  }

  .book-3d:nth-child(3n + 2) {
    transform: rotateY(-1deg) rotateZ(-0.5deg) translateZ(0);
    filter: brightness(0.97);
  }

  .book-3d:nth-child(3n + 3) {
    transform: rotateY(-2deg) rotateZ(0.5deg) translateZ(0);
    filter: brightness(0.95);
  }

  /* Animación sutil de "respiración" de la estantería */
  @keyframes shelf-breathe {
    0%, 100% {
      transform: translateZ(-20px) scaleX(1);
    }
    50% {
      transform: translateZ(-20px) scaleX(0.998);
    }
  }

  .bookshelf-shelf {
    animation: shelf-breathe 8s ease-in-out infinite;
  }

  /* Ajustes para diferentes tamaños de pantalla */
  @media (max-width: 768px) {
    .bookshelf-container {
      perspective: 1200px;
    }

    .book-3d:hover {
      transform: rotateY(0deg) translateZ(20px) translateY(-8px);
    }

    .bookshelf-books {
      gap: 0.5rem;
      padding: 0 0.5rem;
    }
  }
}
